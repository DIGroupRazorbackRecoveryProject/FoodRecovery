<!-- templates/confirmFoodPickup.html -->
<h1 class ="title">Confirm Food Pickup <span id="selected-request-info"></span></h1>
<p><a href="path/to/your/instructions.pdf" class="download-link">**View Instructions**</a> on how to take a clear photo of the food you have picked up.</p> 

<button class="btn btn-primary" id="take-photo-button">Take Photo</button>
<div id="preview-container" style="display: none;">
  <img src="path/to/your/preview-placeholder.png" alt="Preview Placeholder" style="width: 100%; height: auto;">
  <p style="text-align: center;">Preview</p>
</div>
<button class="btn btn-primary" id="complete-pickup-button">Complete Pickup</button>
<p class="notification">Email will be sent to the requester that food has been picked up and the request will be closed in dashboard</p>

<script>
  // Function to update the selected request info display
  function updateSelectedRequestInfo() {
    let selectedRequests = localStorage.getItem('selectedRequests');
    if (selectedRequests) {
      selectedRequests = JSON.parse(selectedRequests);
      let requestInfo = selectedRequests.join(', ');
      document.getElementById("selected-request-info").textContent = " - " + requestInfo;
    } else {
      document.getElementById("selected-request-info").textContent = ""; // Clear if no data
    }
  }

  // Call the function initially when the page loads
  updateSelectedRequestInfo();

  // Add an event listener for storage changes
  window.addEventListener('storage', function(event) {
    if (event.key === 'selectedRequests') {
      updateSelectedRequestInfo();
    }
  });

  // Event listener for "Take Photo" button
  document.getElementById("take-photo-button").addEventListener("click", function() {
    document.getElementById("preview-container").style.display = "block";
  });

  // Event listener for "Complete Pickup" button (You'll need to add logic here)
  document.getElementById("complete-pickup-button").addEventListener("click", function() {
        loadContent('pickupcompleted'); // Load pickupcompleted.html
    });
</script>

